{"ast":null,"code":"var _jsxFileName = \"/home/sermasundarj/Desktop/rss/packages/react-client/src/components/commoncomponent/SignupForm.js\";\nimport React, { useState, Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button'; // import CssBaseline from '@material-ui/core/CssBaseline';\n\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useStyles } from '../../style/style';\nimport '../../App.css';\nimport { Mutation } from 'react-apollo';\nimport { LOGIN_MUTATION } from '../../gql-query/queries';\n\nfunction HigherOrderComponent(props) {\n  const _useStyles = useStyles(),\n        classes = _useStyles.classes;\n}\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      error: ''\n    };\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n  }\n\n  dismissError() {\n    this.setState({\n      error: ''\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      email: evt.target.value\n    });\n  }\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      align: \"center\",\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Mutation, {\n      mutation: LOGIN_MUTATION,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, (userSignup, {\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return 'Loading...';\n      if (error) return \"Error! \".concat(error.message);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        onSubmit: e => {\n          e.preventDefault();\n\n          if (!this.state.email) {\n            return this.setState({\n              error: 'Username is required'\n            });\n          }\n\n          if (!this.state.password) {\n            return this.setState({\n              error: 'Password is required'\n            });\n          }\n\n          this.setState({\n            error: ''\n          });\n          userSignup({\n            variables: {\n              email: this.state.email,\n              password: this.state.password,\n              name: ''\n            }\n          }).then(res => {\n            if (res.data.userLogin.email === null) {\n              localStorage.removeItem('userSignupData');\n            } else {\n              localStorage.setItem('userSignupData', JSON.stringify(res.data.userLogin));\n              this.props.router.push(\"/home\");\n            }\n          }).catch(res => {\n            console.log(res);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, this.state.error && React.createElement(\"h3\", {\n        \"data-test\": \"error\",\n        onClick: this.dismissError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.dismissError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"\\u2716\"), this.state.error), React.createElement(TextField, {\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"username\",\n        label: \"Username\",\n        name: \"username\",\n        autoComplete: \"username\",\n        value: this.state.email,\n        onChange: this.handleUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"current-password\",\n        value: this.state.password,\n        onChange: this.handlePassChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Or SignIn\"));\n    })));\n  }\n\n}\n\nexport default withStyles(useStyles)(SignIn);","map":{"version":3,"sources":["/home/sermasundarj/Desktop/rss/packages/react-client/src/components/commoncomponent/SignupForm.js"],"names":["React","useState","Component","Link","withRouter","Avatar","Button","TextField","LockOutlinedIcon","Typography","Container","withStyles","useStyles","Mutation","LOGIN_MUTATION","HigherOrderComponent","props","classes","SignIn","constructor","state","email","password","error","handlePassChange","bind","handleUserChange","dismissError","setState","evt","target","value","render","paper","userSignup","loading","data","message","form","e","preventDefault","variables","name","then","res","userLogin","localStorage","removeItem","setItem","JSON","stringify","router","push","catch","console","log","submit"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n// import CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useStyles } from '../../style/style';\nimport '../../App.css';\n\nimport { Mutation } from 'react-apollo';\nimport { LOGIN_MUTATION } from '../../gql-query/queries';\n\nfunction HigherOrderComponent(props) {\n    const { classes } = useStyles();\n}\nclass SignIn extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            error: '',\n        };\n\n        this.handlePassChange = this.handlePassChange.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n        this.dismissError = this.dismissError.bind(this);\n    }\n\n    dismissError() {\n        this.setState({ error: '' });\n    }\n\n    handleUserChange(evt) {\n        this.setState({\n            email: evt.target.value,\n        });\n    };\n\n    handlePassChange(evt) {\n        this.setState({\n            password: evt.target.value,\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n\n            <Container component=\"main\" maxWidth=\"xs\">\n                {/* <CssBaseline /> */}\n                <div className={classes.paper}>\n                    {/* <div className={classes.avatarSignin}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        </div> */}\n                    <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                        Sign Up\n        </Typography>\n                    <Mutation mutation={LOGIN_MUTATION}>\n                        {(userSignup, { loading, error, data }) => {\n                            if (loading) return 'Loading...';\n                            if (error) return `Error! ${error.message}`;\n                            return (\n                                <div>\n                                <form className={classes.form} noValidate\n                                    onSubmit={e => {\n                                        e.preventDefault();\n\n                                        if (!this.state.email) {\n                                            return this.setState({ error: 'Username is required' });\n                                        }\n\n                                        if (!this.state.password) {\n                                            return this.setState({ error: 'Password is required' });\n                                        }\n\n                                        this.setState({ error: '' });\n\n                                        userSignup({ variables: { email: this.state.email, password: this.state.password, name: '' } }).then(res => {\n                                            if (res.data.userLogin.email === null) {\n                                                localStorage.removeItem('userSignupData');\n                                            } else {\n                                                localStorage.setItem('userSignupData', JSON.stringify(res.data.userLogin));\n                                                this.props.router.push(\"/home\");\n                                            }\n                                        }).catch(res => {\n                                            console.log(res)\n                                        });\n                                    }}>\n                                    {\n                                        this.state.error &&\n                                        <h3 data-test=\"error\" onClick={this.dismissError}>\n                                            <button onClick={this.dismissError}>✖</button>\n                                            {this.state.error}\n                                        </h3>\n                                    }\n                                    <TextField\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        id=\"username\"\n                                        label=\"Username\"\n                                        name=\"username\"\n                                        autoComplete=\"username\"\n                                        value={this.state.email} onChange={this.handleUserChange}\n                                    />\n                                    <TextField\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Password\"\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                        value={this.state.password} onChange={this.handlePassChange}\n                                    />\n\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        className={classes.submit}\n                                    >\n                                        Sign Up\n                                    </Button>\n\n                                   \n\n                                </form>\n                                 <Link to=\"/login\">Or SignIn</Link>\n                                 </div>\n                            )\n                        }}\n                    </Mutation>\n\n                </div>\n            </Container>\n\n        );\n\n    }\n}\n\nexport default withStyles(useStyles)(SignIn);"]},"metadata":{},"sourceType":"module"}