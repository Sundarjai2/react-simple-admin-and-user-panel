{"ast":null,"code":"var _jsxFileName = \"/home/sermasundarj/Desktop/rss/packages/react-client/src/components/commoncomponent/SignupForm.js\";\nimport React, { useState, Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button'; // import CssBaseline from '@material-ui/core/CssBaseline';\n\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { withStyles } from '@material-ui/core/styles'; // import { makeStyles } from '@material-ui/core/styles';\n\nimport '../../App.css';\nimport { Mutation } from 'react-apollo';\nimport { SIGNUP_MUTATION } from '../../gql-query/signup';\nconst useStyles = makeStyles(theme => ({\n  // Header Style start\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0\n    },\n    li: {\n      listStyle: 'none'\n    }\n  },\n  appBar: {\n    borderBottom: \"1px solid \".concat(theme.palette.divider),\n    background: '#ffffff'\n  },\n  toolbar: {\n    flexWrap: 'wrap'\n  },\n  toolbarTitle: {\n    flexGrow: 1\n  },\n  link: {\n    margin: theme.spacing(1, 1.5),\n    textDecoration: 'none'\n  },\n  logo: {\n    width: 290 //   height: 70,\n\n  },\n  menuLink: {\n    margin: theme.spacing(1, 1.5),\n    paddingBottom: theme.spacing(1),\n    textDecoration: 'none',\n    color: '#333'\n  },\n  activeTab: {\n    borderBottom: '1px solid #000 !important'\n  },\n  signinBtn: {\n    background: '#1B75BB',\n    color: '#FFFFFF',\n    textTransform: \"none\",\n    padding: '4px 20px',\n    marginLeft: theme.spacing(1),\n    \"&:hover\": {\n      background: \"#1B75BB\"\n    }\n  },\n  marginBT: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  // Header Style End\n  // Signin Style Start\n  paper: {\n    marginTop: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: '0 auto',\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    margin: '10px 0'\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: '100%'\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  } // Signin Style end\n\n}));\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      role: '',\n      error: ''\n    };\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.dismissError = this.dismissError.bind(this); // this.labelWidth = '300';\n  }\n\n  dismissError() {\n    this.setState({\n      error: ''\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      email: evt.target.value\n    });\n  }\n\n  handleNameChange(evt) {\n    this.setState({\n      name: evt.target.value\n    });\n  }\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value\n    });\n  }\n\n  handleChange(evt, name) {\n    this.setState({\n      role: evt.target.value\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      align: \"center\",\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Mutation, {\n      mutation: SIGNUP_MUTATION,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, (userSignup, {\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return 'Loading...';\n      if (error) return \"Error! \".concat(error.message);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        onSubmit: e => {\n          e.preventDefault();\n\n          if (!this.state.name) {\n            return this.setState({\n              error: 'Name is required'\n            });\n          }\n\n          if (!this.state.email) {\n            return this.setState({\n              error: 'Username is required'\n            });\n          }\n\n          if (!this.state.password) {\n            return this.setState({\n              error: 'Password is required'\n            });\n          }\n\n          if (!this.state.role) {\n            return this.setState({\n              error: 'Role is required'\n            });\n          }\n\n          this.setState({\n            error: ''\n          });\n          userSignup({\n            variables: {\n              email: this.state.email,\n              password: this.state.password,\n              role: this.state.role,\n              name: this.state.name\n            }\n          }).then(res => {\n            if (res.data.userSignUp.email === null) {\n              localStorage.removeItem('userSignupData');\n              this.setState({\n                error: 'Please Check the below Details'\n              });\n            } else {\n              // localStorage.setItem('userSignupData', JSON.stringify(res.data.userSignUp));\n              this.props.history.push('/login');\n            }\n          }).catch(res => {\n            console.log(res);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.state.error && React.createElement(\"h3\", {\n        \"data-test\": \"error\",\n        onClick: this.dismissError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.dismissError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"\\u2716\"), this.state.error), React.createElement(TextField, {\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"name\",\n        label: \"Name\",\n        name: \"name\",\n        autoComplete: \"name\",\n        value: this.state.name,\n        onChange: this.handleNameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"username\",\n        label: \"Username\",\n        name: \"username\",\n        autoComplete: \"username\",\n        value: this.state.email,\n        onChange: this.handleUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"current-password\",\n        value: this.state.password,\n        onChange: this.handlePassChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"role-native-simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Role\"), React.createElement(Select, {\n        native: true,\n        value: this.state.role,\n        onChange: this.handleChange // labelWidth = {this.labelWidth}\n        ,\n        inputProps: {\n          name: 'role',\n          id: 'role-native-simple'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), React.createElement(\"option\", {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Admin\"), React.createElement(\"option\", {\n        value: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"User\"))), React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Or SignIn\"), \" \", React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Home\"));\n    })));\n  }\n\n}\n\nexport default withStyles(useStyles)(withRouter(SignUp));","map":{"version":3,"sources":["/home/sermasundarj/Desktop/rss/packages/react-client/src/components/commoncomponent/SignupForm.js"],"names":["React","useState","Component","Link","withRouter","Avatar","Button","TextField","LockOutlinedIcon","Typography","Container","makeStyles","InputLabel","FormControl","Select","withStyles","Mutation","SIGNUP_MUTATION","useStyles","theme","ul","margin","padding","li","listStyle","appBar","borderBottom","palette","divider","background","toolbar","flexWrap","toolbarTitle","flexGrow","link","spacing","textDecoration","logo","width","menuLink","paddingBottom","color","activeTab","signinBtn","textTransform","marginLeft","marginBT","paper","marginTop","display","flexDirection","alignItems","avatar","backgroundColor","secondary","main","form","submit","formControl","minWidth","selectEmpty","SignUp","constructor","props","state","name","email","password","role","error","handleNameChange","bind","handleChange","handlePassChange","handleUserChange","dismissError","setState","evt","target","value","render","classes","userSignup","loading","data","message","e","preventDefault","variables","then","res","userSignUp","localStorage","removeItem","history","push","catch","console","log","id"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n// import CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport { withStyles } from '@material-ui/core/styles';\n// import { makeStyles } from '@material-ui/core/styles';\nimport '../../App.css';\n\nimport { Mutation } from 'react-apollo';\nimport { SIGNUP_MUTATION } from '../../gql-query/signup';\n\n\nconst useStyles = makeStyles(theme => ({\n    // Header Style start\n\n    '@global': {\n        ul: {\n            margin: 0,\n            padding: 0,\n        },\n        li: {\n            listStyle: 'none',\n        },\n    },\n    appBar: {\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        background: '#ffffff',\n    },\n    toolbar: {\n        flexWrap: 'wrap',\n    },\n    toolbarTitle: {\n        flexGrow: 1,\n    },\n    link: {\n        margin: theme.spacing(1, 1.5),\n        textDecoration: 'none',\n    },\n    logo: {\n        width: 290,\n        //   height: 70,\n    },\n    menuLink: {\n        margin: theme.spacing(1, 1.5),\n        paddingBottom: theme.spacing(1),\n        textDecoration: 'none',\n        color: '#333'\n    },\n    activeTab: {\n        borderBottom: '1px solid #000 !important',\n    },\n    signinBtn: {\n        background: '#1B75BB',\n        color: '#FFFFFF',\n        textTransform: \"none\",\n        padding: '4px 20px',\n        marginLeft: theme.spacing(1),\n        \"&:hover\": {\n            background: \"#1B75BB\"\n        },\n    },\n    marginBT: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    // Header Style End\n\n    // Signin Style Start\n    paper: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: '0 auto',\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        margin: '10px 0',\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    formControl: {\n        // margin: theme.spacing(1),\n        minWidth: '100%',\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n    // Signin Style end\n\n\n}));\n\nclass SignUp extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n            role: '',\n            error: '',\n        };\n        this.handleNameChange = this.handleNameChange.bind(this)\n        this.handleChange = this.handleChange.bind(this);\n        this.handlePassChange = this.handlePassChange.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n        this.dismissError = this.dismissError.bind(this);\n        // this.labelWidth = '300';\n    }\n\n    dismissError() {\n        this.setState({ error: '' });\n    }\n\n    handleUserChange(evt) {\n        this.setState({\n            email: evt.target.value,\n        });\n    };\n\n    handleNameChange(evt) {\n        this.setState({\n            name: evt.target.value,\n        });\n    }\n\n    handlePassChange(evt) {\n        this.setState({\n            password: evt.target.value,\n        });\n    }\n    handleChange(evt, name) {\n        this.setState({\n            role: evt.target.value,\n        });\n    }\n    render() {\n        const { classes } = this.props;\n        return (\n\n            <Container component=\"main\" maxWidth=\"xs\">\n                {/* <CssBaseline /> */}\n                <div className={classes.paper}>\n                    {/* <div className={classes.avatarSignin}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        </div> */}\n                    <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                        Sign Up\n        </Typography>\n                    <Mutation mutation={SIGNUP_MUTATION}>\n                        {(userSignup, { loading, error, data }) => {\n                            if (loading) return 'Loading...';\n                            if (error) return `Error! ${error.message}`;\n                            return (\n                                <div>\n                                    <form className={classes.form} noValidate\n                                        onSubmit={e => {\n                                            e.preventDefault();\n\n                                            if (!this.state.name) {\n                                                return this.setState({ error: 'Name is required' });\n                                            }\n\n                                            if (!this.state.email) {\n                                                return this.setState({ error: 'Username is required' });\n                                            }\n\n                                            if (!this.state.password) {\n                                                return this.setState({ error: 'Password is required' });\n                                            }\n                                            if (!this.state.role) {\n                                                return this.setState({ error: 'Role is required' });\n                                            }\n\n\n                                            this.setState({ error: '' });\n\n                                            userSignup({ variables: { email: this.state.email, password: this.state.password, role: this.state.role, name: this.state.name } }).then(res => {\n                                                if (res.data.userSignUp.email === null) {\n                                                    localStorage.removeItem('userSignupData');\n                                                    this.setState({ error: 'Please Check the below Details' });\n                                                } else {\n                                                    // localStorage.setItem('userSignupData', JSON.stringify(res.data.userSignUp));\n                                                    this.props.history.push('/login');\n                                                }\n                                            }).catch(res => {\n                                                console.log(res)\n                                            });\n                                        }}>\n                                        {\n                                            this.state.error &&\n                                            <h3 data-test=\"error\" onClick={this.dismissError}>\n                                                <button onClick={this.dismissError}>✖</button>\n                                                {this.state.error}\n                                            </h3>\n                                        }\n                                        <TextField\n                                            variant=\"outlined\"\n                                            margin=\"normal\"\n                                            required\n                                            fullWidth\n                                            id=\"name\"\n                                            label=\"Name\"\n                                            name=\"name\"\n                                            autoComplete=\"name\"\n                                            value={this.state.name} onChange={this.handleNameChange}\n                                        />\n                                        <TextField\n                                            variant=\"outlined\"\n                                            margin=\"normal\"\n                                            required\n                                            fullWidth\n                                            id=\"username\"\n                                            label=\"Username\"\n                                            name=\"username\"\n                                            autoComplete=\"username\"\n                                            value={this.state.email} onChange={this.handleUserChange}\n                                        />\n                                        <TextField\n                                            variant=\"outlined\"\n                                            margin=\"normal\"\n                                            required\n                                            fullWidth\n                                            name=\"password\"\n                                            label=\"Password\"\n                                            type=\"password\"\n                                            id=\"password\"\n                                            autoComplete=\"current-password\"\n                                            value={this.state.password} onChange={this.handlePassChange}\n                                        />\n                                        <FormControl variant=\"outlined\" className={classes.formControl}>\n                                            <InputLabel htmlFor=\"role-native-simple\">Role</InputLabel>\n                                            <Select\n                                                native\n                                                value={this.state.role}\n                                                onChange={this.handleChange}\n                                                // labelWidth = {this.labelWidth}\n                                                inputProps={{\n                                                    name: 'role',\n                                                    id: 'role-native-simple',\n                                                }}\n                                            >\n                                                <option value=\"\" />\n                                                <option value={1}>Admin</option>\n                                                <option value={2}>User</option>\n                                            </Select>\n                                        </FormControl>\n                                        <Button\n                                            type=\"submit\"\n                                            fullWidth\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            className={classes.submit}\n                                        >\n                                            Sign Up\n                                    </Button>\n\n\n\n                                    </form>\n                                    <Link to=\"/login\">Or SignIn</Link> <Link to=\"/\">Home</Link>\n                                </div>\n                            )\n                        }}\n                    </Mutation>\n\n                </div>\n            </Container>\n\n        );\n\n    }\n}\n\nexport default withStyles(useStyles)(withRouter(SignUp));"]},"metadata":{},"sourceType":"module"}